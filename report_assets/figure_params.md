# Figure Parameters Documentation

This document specifies the exact parameters used to generate each figure in the report.

## Physical Constants (All Simulations)

- **G** (gravitational constant): `6.674 × 10⁻¹¹ m³/(kg·s²)`
- **M_Earth** (Earth mass): `5.972 × 10²⁴ kg`
- **μ** (G × M_Earth): `3.98571 × 10¹⁴ m³/s²`
- **R_Earth** (Earth radius): `6.371 × 10⁶ m`

## Common Parameters

- **Orbital altitude**: `h = 600,000 m` (600 km)
- **Initial radius**: `r₀ = R_Earth + h = 6,971,000 m`
- **Circular velocity at r₀**: `v_circ = 7,561.46 m/s`
- **Escape velocity at r₀**: `v_esc = 10,693.51 m/s`

---

## Figure 1: Elliptical Orbit (RK4)
**File**: `fig1_elliptical_orbit_rk4.png`

### Initial Conditions
- **Position**: r₀ = [6,971,000, 0] m
- **Velocity**: v₀ = [0, 8,695.68] m/s
- **Speed**: 8,695.68 m/s (1.15 × v_circ)
- **Direction**: Tangential (perpendicular to radius)

### Simulation Parameters
- **Integrator**: RK4 (Runge-Kutta 4th order)
- **Timestep**: dt = 0.25 s
- **Duration**: 10,000 s
- **Planet**: Earth

### Output
- **Source data**: `data/runs/20260115_220544_Elliptical_RK4/`
- **Plot type**: xy trajectory

---

## Figure 2: Specific Energy (RK4)
**File**: `fig2_energy_rk4.png`

### Parameters
(Same as Figure 1)

### Output
- **Source data**: `data/runs/20260115_220544_Elliptical_RK4/timeseries.csv`
- **Quantity plotted**: Specific energy ε = v²/2 − μ/r [J/kg]
- **Expected**: Constant for ideal orbit (ε < 0 for elliptical)
- **Actual result**: Near-perfect conservation with RK4

---

## Figure 3: Specific Angular Momentum (RK4)
**File**: `fig3_angular_momentum_rk4.png`

### Parameters
(Same as Figure 1)

### Output
- **Source data**: `data/runs/20260115_220544_Elliptical_RK4/timeseries.csv`
- **Quantity plotted**: |h| = |r × v| [m²/s]
- **Expected**: Constant (conserved in two-body problem)
- **Actual result**: Perfectly conserved with RK4

---

## Figure 4: Eccentricity (RK4)
**File**: `fig4_eccentricity_rk4.png`

### Parameters
(Same as Figure 1)

### Output
- **Source data**: `data/runs/20260115_220544_Elliptical_RK4/timeseries.csv`
- **Quantity plotted**: e = |e_vec| where e_vec = (v × h)/μ − r/|r|
- **Expected**: Constant for stable orbit
- **Actual result**: e ≈ 0.32 (elliptical, 0 < e < 1)

---

## Figure 5: Orbital Radius (RK4)
**File**: `fig5_radius_rk4.png`

### Parameters
(Same as Figure 1)

### Output
- **Source data**: `data/runs/20260115_220544_Elliptical_RK4/timeseries.csv`
- **Quantity plotted**: r = √(x² + y²) [m]
- **Expected**: Periodic oscillation between pericenter and apocenter
- **Actual result**: 
  - Period ≈ 10,387 s (theoretical)
  - Pericenter and apocenter marked from events.csv

---

## Figure 6: Energy Drift with Euler Method
**File**: `fig6_energy_euler.png`

### Initial Conditions
(Same as Figure 1)

### Simulation Parameters
- **Integrator**: Euler (1st order)
- **Timestep**: dt = 0.25 s
- **Duration**: 10,000 s
- **Planet**: Earth

### Output
- **Source data**: `data/runs/20260115_220545_Elliptical_Euler/`
- **Purpose**: Compare energy conservation vs RK4
- **Expected**: Systematic drift in energy (accumulation of error)
- **Actual result**: Visible energy drift compared to RK4

---

## Figure 7: Hyperbolic Escape Trajectory
**File**: `fig7_hyperbolic_orbit.png`

### Initial Conditions
- **Position**: r₀ = [6,971,000, 0] m
- **Velocity**: v₀ = [0, 11,762.87] m/s
- **Speed**: 11,762.87 m/s (1.10 × v_esc, 1.556 × v_circ)
- **Direction**: Tangential

### Simulation Parameters
- **Integrator**: RK4
- **Timestep**: dt = 0.25 s
- **Duration**: 8,000 s
- **Planet**: Earth

### Output
- **Source data**: `data/runs/20260115_220548_Hyperbolic_Escape_RK4/`
- **Orbit type**: Hyperbolic (ε > 0)
- **Result**: Object escapes Earth's gravity

---

## Figure 8: Parameter Sweep Heatmap
**File**: `heatmap_parameter_sweep.png`

### Sweep Parameters
- **Speed range**: 6,500 to 12,500 m/s
- **Speed resolution**: 300 points
- **Angle range**: 0° to 90°
- **Angle resolution**: 20 points
- **Total grid points**: 6,000

### Classification Criteria
- **Elliptical** (green): ε < −3.0×10⁵ J/kg
- **Parabolic** (yellow): −3.0×10⁵ ≤ ε ≤ 3.0×10⁵ J/kg
- **Hyperbolic** (red): ε > 3.0×10⁵ J/kg

### Method
- **Mode**: "fast" (analytical classification from initial energy)
- **Escape velocity at r₀**: 10,693.51 m/s
- **Source**: `src/sweep.py`

### Output
- **Source file**: `figures/sweep_heatmap_fast.png`
- **Shows**: Transition from bound to unbound orbits at v ≈ v_esc

---

## Reproducibility Notes

All figures can be regenerated by:

1. Running `python src/generate_report_data.py` to create simulation runs
2. Running `python src/analyze_run.py <run_dir>` for each run to generate plots
3. Running `python src/sweep.py` to generate the heatmap

See `repro_steps.md` for exact commands.

## Validation

All results have been verified to match:
- Theoretical v_esc = √(2μ/r₀) = 10,693.51 m/s ✓
- Theoretical v_circ = √(μ/r₀) = 7,561.46 m/s ✓
- Energy conservation in RK4 (drift < 10⁻⁶) ✓
- Angular momentum conservation (drift < 10⁻⁹) ✓
- Orbit classification from energy sign ✓
